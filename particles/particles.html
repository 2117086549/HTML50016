<!DOCTYPE html>

<html>

	<title>Canvas Particles Test</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>

	<script src="particle_generator.js"></script>

	<style>
		body {
			background:#000;
		}
	</style>

<head>

</head>

<body>

	<canvas id="canvas"></canvas>

</body>

<script type="text/javascript">
	var particles;
	window.onload = function() {  
	  var canvas = document.getElementById('canvas');
	  $(canvas)
	  .attr('width', window.innerWidth)
	  .attr('height', window.innerHeight);
	  particles = new ParticleCanvas(canvas, {y: 0});
	  particles.update({
		shape: 'circle',
		velocity: new Vector({x: 0, y: 1}),
		xVariance: window.innerWidth,
		yVariance: 0,
		spawnSpeed: 1,
		generations: 10000,
		maxParticles: 500,
		size: 8,
		sizeVariance: 2,
		life: 500,
		lifeVariance: 0,    
		direction: 0,
		directionVariance: 15,
		color: '#fff',
		opacity: 1,
		onDraw: function(p) {
		  //p.v.add(new Vector({y: 0.01}));
		  p.opacity = 1 - (p.age / p.life * 0.9);
		}
	  });
	  particles.start();
	};
</script>

</html>